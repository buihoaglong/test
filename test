-- Load Rayfield UI Library
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Tạo Window
local Window = Rayfield:CreateWindow({
   Name = "Speed Script",
   LoadingTitle = "Đang tải...",
   LoadingSubtitle = "by Your Name",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "SpeedConfig"
   },
})

-- Tạo Tab
local Tab = Window:CreateTab("Tốc độ", 4483362458)

-- Slider để điều chỉnh tốc độ
local SpeedSlider = Tab:CreateSlider({
   Name = "Tốc độ di chuyển",
   Range = {16, 200},
   Increment = 1,
   Suffix = " Speed",
   CurrentValue = 16,
   Flag = "SpeedSlider",
   Callback = function(Value)
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
   end,
})

-- Toggle để bật/tắt tốc độ
local SpeedToggle = Tab:CreateToggle({
   Name = "Tăng tốc tự động",
   CurrentValue = false,
   Flag = "SpeedToggle",
   Callback = function(Value)
        if Value then
            game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 100
        else
            game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 16
        end
   end,
})

-- Bypass Toggle
local BypassToggle = Tab:CreateToggle({
   Name = "Bypass Anti-Speed",
   CurrentValue = false,
   Flag = "BypassToggle",
   Callback = function(Value)
        local bypass = Value
        local anti_speed_hook = hookmetamethod(game.Players.LocalPlayer.Character.Humanoid, "__index", newcclosure(function(self, key)
            if key == "WalkSpeed" then
                return bypass and 16 or self[key]
            end
            return self[key]
        end))
   end,
})

-- Button reset tốc độ
local ResetButton = Tab:CreateButton({
   Name = "Reset tốc độ về mặc định",
   Callback = function()
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 16
        SpeedSlider:Set(16)
        SpeedToggle:Set(false)
        BypassToggle:Set(false)
   end,
})
